(()=>{"use strict";class e{cache_elems(){this.cache={modal:$("#modal-id"),modal_header:$(".modal-header .header"),dialog_button:$(".dialog-button")},this.button_map={"new-project-file-create-form":"Create","create-new-quick-file-form":"Create","rename-tree-file-form":"Proceed Renaming","file-move":"Move Here","file-copy":"Copy Here","confirm-delete-all-files-in-folder":"Confirm"}}launch_dialog(e,t=""){let i=this;switch(i.current_dialog=e,i.cache.modal.css("display","block"),$(".inner-item-form").hide(),$("#"+e).show(),i.cache.modal_header.text(t),i.cache.dialog_button.show(),i.current_dialog){case"rename-tree-file-form":{let e=i.tsp.TreeClass;$("#rename-tree-file-text-box").val(e.metadata_map[e.curr_active_file].name);break}case"file-move":case"file-copy":case"video-notes-help-dialog":$("."+e).html("\n                    "+i.tsp.GlobalConstants.video_notes_help_dialog_content),i.cache.dialog_button.hide()}$(".dialog-button").text(i.button_map[i.current_dialog])}close_dialog_action(){let e=this;if(e.cache.modal.css("display","none"),$(".modal-content").removeClass("model-content-on-tree-clone"),null!==e.tsp.TreeClass.cloned_folder_parent_in_tree){let t=$("#folder-clone-section").children().get(0),i=$("#folder-clone-section").children().get(1);$(e.tsp.TreeClass.cloned_folder_parent_in_tree).empty().append(t),$(e.tsp.TreeClass.cloned_folder_parent_in_tree).append(i),e.tsp.TreeClass._events(),e.tsp.SourceCodeSection.events(),e.tsp.TreeClass.cloned_folder_parent_in_tree=null}}events(){let e=this,t={boot_tree_note_dialog:function(){e.cache.dialog_button.hide(),$(".dialog-button").click((function(){switch(e.current_dialog){case"new-project-file-create-form":e.tsp.TreeClass.action_function_map.create_new_tree_note_submit();break;case"create-new-quick-file-form":e.tsp.loadComponentsContainer.action_function_map.create_new_file_submit_btn();break;case"rename-tree-file-form":{let t=$(`.file - click[file - path = '${e.tsp.TreeClass.curr_active_file}']\n                    `);e.tsp.TreeClass.parent_folder=t,e.tsp.TreeClass._onfocusout_rename_field();break}case"file-move":e.tsp.TreeClass.curr_copy_file=$("#tab-container .tab-active .file-get-section").attr("file-path"),e.tsp.TreeClass.paste_after_cut();break;case"file-copy":e.tsp.TreeClass.curr_copy_file=$("#tab-container .tab-active .file-get-section").attr("file-path"),e.tsp.TreeClass.paste_after_copy();break;case"confirm-delete-all-files-in-folder":e.tsp.TreeClass.move_all_to_trash()}}))},close_dialog:function(){$(".close-modal").click((function(){e.close_dialog_action()}))}};for(let e in t)t[e]()}init(e,t){return e.Dialog=this,this.tsp=e,this.event_map={},this.current_dialog=void 0,this.cache_elems(),this.events(),$.Deferred().resolve(e,t)}}class t{maximize_icon_click_action(e){parseInt($(".resizable").css("width")),parseInt($(".resizable").css("height")),parseInt(window.innerWidth),parseInt(window.innerHeight),$("#pane").hasClass("pane-full-screen")?($("#pane").addClass("pane-centered"),$("#pane").removeClass("pane-full-screen")):($("#pane").removeClass("pane-centered"),$("#pane").addClass("pane-full-screen")),$("#right-side-components").addClass("right-side-components-full-screen")}_get_all_videos(){var e=$.Deferred();return $.ajax({url:self.tsp.PrimenotesCache.data.url_prefix+"/api/individual-component-fetch/get-all-videos",type:"GET",contentType:"application/x-www-form-urlencoded",success:function(t){let i={};i=t,$("#video-section").empty();for(let e in i){let t=i[e],n="<div class='single-video-section'> <div class='video-content'><video width='400px' controls> <source src='http://localhost:5000/static/videos/"+t+"'  type='video/mp4'></video></div>   <div class='video-name'>"+t+"</div> </div>";$("#video-section").append($(n))}return e.resolve(t)}}),e.promise()}download_video_click_action(){let e=$("#video-link").val(),t=$("#video-name").val(),i={};i={link:e,name:t},self=this;var n=$.Deferred();return $.ajax({url:"http://localhost:5000/api/individual-component-fetch/download-youtube-video",type:"POST",data:JSON.stringify(i),contentType:"application/x-www-form-urlencoded",success:function(e){return self._get_all_videos(),n.resolve(e)},error:function(e,t,n){alert(JSON.stringify(i)+"cant be downloaded due to format issue")}}),n.promise()}_tabs_drop_down_click(){$("#project-notes-opened-list").empty(),this.tabs_dropdown_click_flag=1;var e=$(".file-get-section");let t=e.length;for(let i=0;i<t;i++){let t=$($(e[i]).clone());t.addClass("item"),$("#project-notes-opened-list").append(t)}this.tsp.SourceCodeSection.events()}_build_new_component(e){let t=$.Deferred(),i="<div id='pro1000-component-dialog' class=\"create-component-dialog\"  style='display:none;min-width:103.5% !important;min-height: 100% !important' title=\""+e+'"><div id=\'create-component-dialog-sub-div\' style="width: 100%;height: 100%;"></div></div>';return $("#destination-container").append($(i)),t.resolve(),t.promise()}get_quick_note_list(){let e=$.Deferred(),t={};return $.ajax({url:this.tsp.PrimenotesCache.data.url_prefix+"/api/individual-component-fetch/get-all-file-factory-contents",type:"GET",contentType:"application/x-www-form-urlencoded",success:function(i){for(let e in i)t[i[e].uuid_file_name]={name:i[e].name,content:i[e].content,date_created:i[e].date_created,last_updated:i[e].last_updated,starred:i[e].starred};return e.resolve(t)}}),e.promise()}save_quick_note(e){let t=this;var i=$.Deferred();return $.ajax({url:t.tsp.PrimenotesCache.data.url_prefix+"/api/individual-component-fetch/save-file-factory",data:JSON.stringify(e),type:"POST",contentType:"application/json;charset=UTF-8",success:function(e){return t.tsp.loadComponentsContainer.label_map[file_key].content=file_data,t.tsp.NotificationBar.launch_notification(t.tsp.GlobalConstants.file_saved),i.resolve(e)}}),i.promise()}_create_file_in_backend(e,t){let i="";"html_components"===e?i="html_components-"+t:"document"===e?i="separate_project-"+t:"file_factory"===e&&(i="../frontend_files/web-app/all_general_files/file_factory/"+t+".txt"),function(e){var t=$.Deferred();$.ajax({url:self.tsp.PrimenotesCache.data.url_prefix+"/api/individual-component-fetch/save-file/"+e,data:JSON.stringify(""),type:"POST",contentType:"application/json;charset=UTF-8",success:function(e){return t.resolve(e)}}),t.promise()}(i)}_create_file_in_backend_duplicate(e){let t=this;return function(e){var i=$.Deferred();return $.ajax({url:t.url_prefix+"/api/individual-component-fetch/create-file/",data:JSON.stringify(e),type:"POST",contentType:"application/json;charset=UTF-8",success:function(e){return i.resolve(e)}}),i.promise()}(e)}_create_file_in_backend_with_metadata(e){let t=this;return function(e){var i=$.Deferred();return $.ajax({url:t.url_prefix+"/api/tree-note/create-folder",data:JSON.stringify(e),type:"POST",contentType:"application/json;charset=UTF-8",success:function(e){return i.resolve(e)}}),i.promise()}(e)}_copy_paste_file_in_backend_with_metadata(e){let t=this;return function(e){var i=$.Deferred();return $.ajax({url:t.url_prefix+"/api/tree-note/copy-paste-file",data:JSON.stringify(e),type:"POST",contentType:"application/json;charset=UTF-8",success:function(e){return i.resolve(e)}}),i.promise()}(e)}_cut_paste_file_in_backend_with_metadata(e){let t=this;return function(e){var i=$.Deferred();return $.ajax({url:t.url_prefix+"/api/tree-note/cut-paste-file",data:JSON.stringify(e),type:"POST",contentType:"application/json;charset=UTF-8",success:function(e){return i.resolve(e)}}),i.promise()}(e)}_rename_file_factory_files(e,t){let i=this;return function(e,t){var n=$.Deferred();return $.ajax({url:i.url_prefix+"/api/individual-component-fetch/rename-file/"+e,type:"POST",data:JSON.stringify(t),contentType:"application/json;charset=UTF-8",success:function(e){return n.resolve(e)}}),n.promise()}(e,t)}_rename_tree_note_files(e){let t=this;return i=$.Deferred(),$.ajax({url:t.url_prefix+"/api/individual-component-fetch/rename-tree-note-file",type:"POST",data:JSON.stringify(void 0),contentType:"application/json;charset=UTF-8",success:function(e){return i.resolve(e)}}),i.promise();var i}_rename_tree_note_files_with_metadata(e){return function(e){var t=$.Deferred();return $.ajax({url:self.tsp.PrimenotesCache.data.url_prefix+"/api/tree-note/rename-file",type:"POST",data:JSON.stringify(e),contentType:"application/json;charset=UTF-8",success:function(e){return t.resolve(e)}}),t.promise()}(e)}_rename_tree_note_folder_with_metadata(e){return function(e){var t=$.Deferred();return $.ajax({url:self.tsp.PrimenotesCache.data.url_prefix+"/api/tree-note/rename-folder",type:"POST",data:JSON.stringify(e),contentType:"application/json;charset=UTF-8",success:function(e){return t.resolve(e)}}),t.promise()}(e)}_delete_file(e){return function(e){var t=$.Deferred();return $.ajax({url:self.tsp.PrimenotesCache.data.url_prefix+"/api/individual-component-fetch/delete-file/file-factory/"+e,type:"DELETE",contentType:"application/json;charset=UTF-8",success:function(e){return t.resolve(e)}}),t.promise()}(e)}_make_quick_file_favourite(e){return function(e){var t=$.Deferred();return $.ajax({url:self.tsp.PrimenotesCache.data.url_prefix+"/api/individual-component-fetch/starr/file-factory/"+e,type:"PATCH",contentType:"application/json;charset=UTF-8",success:function(e){return t.resolve(e)}}),t.promise()}(e)}_delete_project_note_file(e){let t=this;return function(e){var i=$.Deferred();return $.ajax({url:t.url_prefix+"/api/tree-note/move-to-trash-tree-file-or-folder/"+e,type:"DELETE",contentType:"application/json;charset=UTF-8",success:function(e){return i.resolve(e)}}),i.promise()}(e)}_delete_project_note_permanently(e){let t=this;return function(e){var i=$.Deferred();return $.ajax({url:t.url_prefix+"/api/tree-note/delete-permanently/"+e,type:"DELETE",contentType:"application/json;charset=UTF-8",success:function(e){return i.resolve(e)}}),i.promise()}(e)}_bulk_delete_project_note_file(e){return t=$.Deferred(),$.ajax({url:this.url_prefix+"/api/tree-note/bulk-move-to-trash-tree-file-or-folder",type:"POST",data:JSON.stringify(e),contentType:"application/json;charset=UTF-8",success:function(e){return t.resolve(e)}}),t.promise();var t}_starr_tree_note_file_or_folder(e){let t=this;return function(e){var i=$.Deferred();return $.ajax({url:t.url_prefix+"/api/tree-note/starr-it/"+e,type:"PUT",contentType:"application/json;charset=UTF-8",success:function(e){return i.resolve(e)}}),i.promise()}(e)}restore_tree_file(e){let t=this;return function(e){var i=$.Deferred();return $.ajax({url:t.url_prefix+"/api/tree-note/restore/"+e,type:"PUT",contentType:"application/json;charset=UTF-8",success:function(e){return i.resolve(e)}}),i.promise()}(e)}_get_components_list(){let e=[],t=$(".create-component");for(let i=0;i<t.length;i++)e.push(t[i].title.toLowerCase());return e}_create_component_submit_execution(e){let t=$("#create-component-text-box").val();if(""!=t)if(this._get_components_list().indexOf(t.toLowerCase())<0){this._create_file_in_backend("html_components",t);let i="<button class='create-component create-component button tab-options-button' title='"+t+'\' class="button tab-options-button">'+t+"</button>";$("#component-tabs").append($(i)),$(".create-component").on("click",(function(){$(e.dialog_component).css("display","block"),e.action_obj._create_component_open_close(e,this)}))}else alert("Component Exists with the same name : "+t)}_build_component_dialog(){let e="pro1000-component-dialog";var t=$(window).height();return $("#"+e).dialog({width:"50%",height:.8*t,position:{my:"left top"},dialogClass:"no-close success-dialog",buttons:[{text:"L",icon:"ui-icon-minimize",title:e,click:function(e){let t=$(this).parent();t.css("left","0px"),t.css("height","100%"),t.css("width","50%"),t.css("top","0px")}},{text:"R",icon:"ui-icon-maximize",class:e+"right-orientation",click:function(e){let t=$(this).parent();t.css("left","50%"),t.css("height","100%"),t.css("width","50%"),t.css("top","0px")}},{text:"[]",icon:"ui-icon-maximize",class:e+"right-orientation",click:function(e){let t=$(this).parent(),i="0px",n="0px",a="100%",o="100%",s=parseInt($(this).parent().css("width")),l=parseInt($(this).parent().css("height")),r=window.innerWidth,c=window.innerHeight;s==r&&l==c&&(n="200px",i="200px",a="50%",o="70%"),t.css("top",n),t.css("left",i),t.css("height",o),t.css("width",a)}},{text:"X",icon:"ui-icon-maximize",click:function(e){let t=$(this).parent();$($("#create-component-dialog-sub-div").children()[0]).attr("src",""),t.css("display","none")}}],create:function(e,t){$(".ui-dialog-buttonset").prependTo(".ui-dialog-titlebar")}})}_get_iframe_ele(e,t){let i="";return i="<iframe src='http://localhost:5000/api/individual-component-fetch/create_component?component_name="+e+"' style='width: inherit;height: inherit;'></iframe>",$(i).css({width:"100%",height:"95%"})}__get_youtube_embed_iframe(e){if(e.indexOf("youtu.be")>-1){let t=e.split("youtu.be"),i=document.createElement("iframe");return i.src="https://www.youtube.com/embed"+t[1],$(i).attr("width","95%").attr("height","90%").addClass("youtube-stream")}if(e.indexOf("<iframe")>-1)return $(e).attr("width","95%").attr("height","90%").addClass("youtube-stream");if(e.indexOf("&")>-1){let t=e.split("&")[0].split("watch")[1].split("=")[1],i=document.createElement("iframe");return i.src="https://www.youtube.com/embed/"+t,$(i).attr("width","95%").attr("height","90%").addClass("youtube-stream")}if(e.includes("watch")){let t=document.createElement("iframe");return t.src="https://www.youtube.com/embed/"+e.split("watch")[1].split("=")[1],$(t).attr("width","95%").attr("height","90%").addClass("youtube-stream")}}_create_component_open_close(e,t){if("youtube"==e){$("#create-component-dialog-sub-div").empty();let e=this.__get_youtube_embed_iframe(t);$("#video-stream-in-file-factory").empty(),$("#video-stream-in-file-factory").append($(e))}else{let i=$(t).attr("title"),n=e;if(n.active_component_dialog_element!==i){$("#create-component-dialog-sub-div").empty();let e=this._get_iframe_ele(i);$("#create-component-dialog-sub-div").append(e),$("#ui-id-2").text(i),n.active_component_dialog_element=i}}}_header_orientation_actions(){}_notification_dialog(e){let t=`<span><p>${e}</p></span>`;$("#notification").empty().append($(t).clone()).toggleClass("display-notification"),setTimeout((function(){$("#notification").toggleClass("display-notification")}),2500)}set_url_for_tree_note_iframe(){let e=this.tsp.PrimenotesCache.data.url_prefix+"/api/individual-component-fetch/summer_note";$("#summer-note-iframe-id").attr("src",e)}init(e,t){return e.DomActions=this,this.tsp=e,this.url_prefix=e.PrimenotesCache.data.url_prefix,this.set_url_for_tree_note_iframe(),$.Deferred().resolve(this.tsp,t)}}class i{cache_elements(){let e=this;e.search_box=$("#search-box"),e.close_results_icon=$(".search-box-icons > .icon.close"),e.close_youtube_text=$(".youtube-video-link-close"),e.youtube_txt_box=$("#youtube-video-link"),e.left_and_middle_section=315}get_text_editor_content(){return $("#quick-file-editor").val()}set_text_editor_content(e){$("#quick-file-editor").val(e)}initialize_summernote_for_quick_note(){let e=this;$(".note-editor").remove(),$("#quick-file-editor").summernote({height:e.tsp.GlobalConstants.window_height,maxHeight:null,focus:!0,disableResizeEditor:!0,tabsize:2,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["color",["color"]],["para",["ul","ol","paragraph"]]],buttons:{AddCheckList:function(e){return $.summernote.ui.button({contents:'<i class="fa fa-check-square-o"/>',tooltip:"Insert a Checklist",click:function(){e.invoke("editor.pasteHTML",'<span contentEditable="false"><input type="checkbox" class="note-editor-checkbox"/></span>&nbsp;')}}).render()}},callbacks:{onChange:function(t,i){e.action_function_map.save_file_if_changed(),e.update_file_content_while_typing(e.curr_file_uuid,t)}}})}_get_file_html(e){let t=`<div class='individual-search card' id='${e}'>`;return t+=`<span class='search-result-item' >${this.label_map[e].name}</span></div>`,t}build_individual_searchresult(e,t){let i=this,n=i.label_map[e],a="",o="",s=i.tsp.Utils.get_formatted_date(n.last_updated);return a=void 0!==t?t:i.label_map[e].content,"true"==i.label_map[e].starred&&(o="<i class='icon star common-icon'> </i>"),`<div class='individual-search card' id="${e}">\n                        <div class="individual-search-level-1" title="${n.name}">\n                            <span class='search-result-item'>\n                                ${n.name}\n                            </span>\n                            <span>\n                                ${o}\n                            </span>\n                        </div>\n                        <div class="individual-search-result-metadata">\n                            <div class="individual-search-file-content">\n                                ${a}\n                            </div>\n                            <a class="item" title="Last updated">\n                                <div class="ui horizontal label">${s}</div>\n                            </a>\n                        </div>\n                    </div>`}split_and_full_screen_UI(){$("#right-side-components").attr("class").indexOf("right-side-components-full-screen")>=0?($("#right-side-components").removeClass("right-side-components-full-screen"),$("#right-side-components").addClass("right-side-components-split-screen"),$(".file-factory-split-bar").css("left",this.left_and_middle_section-7),$("#left-and-middle-section").css("width",this.left_and_middle_section),$("#left-and-middle-section").show(),$(".sidenav-button-content-class")[0].classList.remove("right"),$(".sidenav-button-content-class")[0].classList.add("left")):($("#right-side-components").removeClass("right-side-components-split-screen"),$("#right-side-components").addClass("right-side-components-full-screen"),$(".file-factory-split-bar").css("left","20px"),$("#left-and-middle-section").hide(),$(".sidenav-button-content-class")[0].classList.remove("left"),$(".sidenav-button-content-class")[0].classList.add("right"))}sort_files_by_name_and_update_UI(){let e=this,t=($(".individual-search"),Object.keys(e.label_map));t.sort((function(t,i){var n=e.label_map[t].name.toLowerCase(),a=e.label_map[i].name.toLowerCase();return n<a?-1:n>a?1:0})),$("#file-middle-section").empty();for(let i=0;i<t.length;i++){let n=t[i],a=e.build_individual_searchresult(n);$("#file-middle-section").append($(a)),e.update_starred_files_with_icon(n)}e.events_map["individual-search"]()}_file_switch_action_function(e){let t=this;if(3===t.tsp.GlobalConstants.current_window)return void("sidenav-button-id1"==e.id&&t.split_and_full_screen_UI());$(".quick-notes-top-section").show(),t.active_switch="file-switch",$(".video-stream-back-to-file-list").hide(),$("#component-factory-title").hide(),$("#right-side-section").hide(),$("#middle-section").show();let i=$("#quick-notes-in-file-factory").clone();$("#quick-notes-in-file-factory").remove(),$("#video-stream-in-file-factory").hide(),$("#left-and-middle-section").css({width:t.left_and_middle_section});let n=$(i).removeClass("text-editor-in-middle-section").addClass("text-editor-in-right-side-components");$("#right-side-components-container").append(n),t.fillRightSideComponents(t.curr_file_uuid),$("#right-side-components").hasClass("right-side-components-full-screen")||($("#right-side-components").css({left:t.left_and_middle_section,width:"calc(100% - 280px)"}),$(".file-factory-split-bar").css("left",t.left_and_middle_section)),t._build_file_factory_options(),t.action_function_map.switch_class_for_quick_notes_filename(),1!=t.tsp.GlobalConstants.previous_window?t.tsp.GlobalConstants.previous_window=1:t.split_and_full_screen_UI()}click_side_nav_button(){this.tsp.GlobalConstants.window_width<=450&&this._file_switch_action_function($("#sidenav-button-id1"))}_video_switch_action_function(){let e=this;$(".video-stream-back-to-file-list").show(),$(".quick-notes-top-section").hide(),$("#component-factory-title").show(),$("#pane").css({display:"block"}),$("#right-side-section").show(),e.active_switch="video-stream-switch";let t=$("#quick-notes-in-file-factory").clone();$("#quick-notes-in-file-factory").remove(),$("#middle-section").show();let i=$(t).removeClass("text-editor-in-right-side-components").addClass("text-editor-in-middle-section").hide();$("#left-and-middle-section").append($(i)),e.fillRightSideComponents(e.curr_file_uuid),e.action_function_map.switch_class_for_video_notes_filename(),$("#video-stream-in-file-factory").css("display","block"),e.events_map["individual-search"]()}_initialize_file_chat_switches_events(){let e=this;$("#chat-middle-section").css("display","none"),$("#right-side-components").css("left","250px"),$(".file-switch, #sidenav-button-id1").on("click",(function(){e._file_switch_action_function(this)})),$(".video-stream-switch").on("click",(function(){e._video_switch_action_function()}))}searchResults(e,t,i){let n=$.Deferred();for(let n in t){if(void 0===i){e.update_starred_files_with_icon(n);continue}let t=e.label_map[n].content,a=e.label_map[n].name,o=t.toLowerCase().search(i.toLowerCase()),s=a.toLowerCase().search(i.toLowerCase());if(-1===o&&-1===s)continue;let l=t.substr(o);l=l.replaceAll(i,`<span class="individual-search-file-content-span">${i}</span>`),e.update_starred_files_with_icon(n,l)}return n.resolve(""),n.promise()}_get_file_factory_list(){var e=$.Deferred();return this.tsp.QuickNoteFirebase.get_quick_note_list().then((t=>e.resolve(t))),e.promise()}callSearchResults(e){let t=this;if(""==e)return t.close_results_icon.css("visibility","hidden"),void t.sort_files_by_name_and_update_UI();t.close_results_icon.css("visibility","visible"),$("#file-middle-section").empty();var i=$.Deferred();$.Deferred().resolve().then((function(){return t.searchResults(t,t.label_map,e).then((function(e){t.events_map["individual-search"](),i.resolve()})),i.promise()}))}events(){let e=this;e.events_map={"video-link-copy-button":()=>{$(".video-link-copy-button").on("click",(function(){$("#youtube-video-link").select(),document.execCommand("copy")}))},"search-box":function(){$("#search-box").off("keyup"),$("#search-box").on("keyup",(function(){e.callSearchResults($(this).val())}))},"individual-search":()=>{$(".individual-search").off("click"),$(".individual-search").on("click",(function(){e.click_side_nav_button(),$("#quick-notes-in-file-factory").show(),$(".individual-search").removeClass("individual-search-background"),$(this).addClass("individual-search-background"),$("#right-side-components").css("display","block"),$("#right-side-components-container").css("display","block");let t=$(this).attr("id");if(e.curr_file_uuid=t,$(".active").prop("id"),"video-stream-switch"==e.active_switch){$("#middle-section").hide(),$("#quick-notes-in-file-factory").show();let t=$("#quick-notes-in-file-factory").clone();$("#quick-notes-in-file-factory").remove();let i=$(t).removeClass("text-editor-in-right-side-components").addClass("text-editor-in-middle-section");$("#left-and-middle-section").append(i),screen.width;let n=parseInt($("#pane").css("width"));parseInt($("#pane").css("left")),parseInt($("#pane").css("right")),$("#right-side-components").removeClass("right-side-components-split-screen"),$("#left-and-middle-section").css("width",n/2),$(".file-factory-split-bar").css("left",n/2),$("#right-side-components").css("left",n/2),$("#right-side-components").css("width",n/2+45),$(".video-stream-back-to-file-list").on("click",(function(){e.tsp.GlobalConstants.previous_window=2,e.tsp.GlobalConstants.current_window=3,e._video_switch_action_function()}))}else"file-switch"==e.active_switch&&($("#video-stream-in-file-factory").hide(),$("#quick-notes-in-file-factory").show(),$("#middle-section").show());e.events_map.save_file_if_blured(),e.fillRightSideComponents(t)}))},save_file_if_blured:()=>{$("#quick-file-editor").off(),$("#quick-file-editor").on("keyup",(function(t){e.action_function_map.save_file_if_changed(),e.update_file_content_while_typing(e.curr_file_uuid,t.target.value)}))},back_drop_hide_on_click:()=>{$("#quick-notes-backdrop").click((function(){$(this).hide()}))},clear_youtube_text:()=>{e.close_youtube_text.click((function(){e.youtube_txt_box.val(""),$(this).hide()}))},on_type_display_youtube_clear:()=>{e.youtube_txt_box.on("paste, keyup",(t=>{e.close_youtube_text.show(),27==t.keyCode?(e.youtube_txt_box.val("").focus(),e.close_youtube_text.hide()):""===t.currentTarget.value?e.close_youtube_text.hide():e.close_youtube_text.show()}))},on_type_in_input:()=>{$("input").on("paste, keyup",(e=>{let t=$(e.currentTarget),i=$(t.parent().children().find(".icon.close"));i.show(),27==e.keyCode?(t.val("").focus(),i.hide()):""===t.val()||void 0===t.val()?i.hide():i.show()}))},search_box_clear:()=>{$(".quick-note-search-clear").click((function(){$("#search-box").val("").focus(),e.tsp.loadComponentsContainer.callSearchResults("")}))},tags_select:()=>{let t=this;$(".filter-search-icon").on("click",(i=>{let n={},a=t.label_map,o=[];for(var s in a)o.push(a[s].name.toLocaleLowerCase());o.sort(),setTimeout((function(){$(".filter-search-icon").contextmenu()}),50),o.map((e=>{let t=e.split(" ")[0];n[t]={name:t}})),$.contextMenu("create",{selector:".filter-search-icon",className:"tag-names-drop-down",callback:function(t,i){e.search_box.val(t),e.callSearchResults(t.toLocaleLowerCase())},items:n})}))}};for(let t in e.events_map)e.events_map[t]()}fillRightSideComponents(e){let t=this;void 0!==e&&""!==e&&($("#file-name").text(t.label_map[e].name),$("#file-name").attr("file-key",e),$.Deferred().resolve().then((function(){t._appendHtmlAndEventListner(e,t.label_map[e].content)})),t.tsp.DetailsPanel.launch_quick_file_details_data(e))}_appendHtmlAndEventListner(e,t){this.set_text_editor_content(t)}get_file_from_server(e){return this.label_map[e].content}action_functions(){let e=this;this.action_function_map={create_new_file:function(){$("#create-file-text-box").val(""),e.tsp.Dialog.launch_dialog("create-new-quick-file-form","New Note"),$("#create-file-text-box").focus()},create_new_file_submit_btn:function(){let t=$("#create-file-text-box").val().trim();for(let i in e.label_map)if(e.label_map[i].name==t)return void alert(e.tsp.GlobalConstants.duplicate_quick_file);if(""==t)return void alert("No name entered");let i={folder_id:"",folder_path:"../frontend_files/web-app/all_general_files/file_factory",file_name:t,file_type:"file_factory",create_type:"File"};e.tsp.QuickNoteFirebase._create_file_in_backend_duplicate(i).then((function(t){e.curr_file_uuid=t.file_key,e.label_map[t.file_key]={name:t.name,content:t.content,date_created:t.date_created,last_updated:t.last_updated,starred:t.starred};let i=e.build_individual_searchresult(t.file_key);$("#file-middle-section").prepend($(i)),$("#file-name").text(t.name),$("#file-name").attr("file-key",t.file_key),e.curr_file_uuid=t.file_key,e.set_text_editor_content(""),e.tsp.NotificationBar.launch_notification(e.tsp.GlobalConstants.new_quick_file),$("#modal-id").hide(),e.sort_files_by_name_and_update_UI(),$(".note-editable ").focus()}))},save_file_if_changed:function(){let t=$.Deferred();var i=e.curr_file_uuid;let n=e.get_text_editor_content();if(e.label_map[i].content===n)return;let a=n;var o={file_key:i,name:e.label_map[i].name,content:a,date_created:e.label_map[i].date_created,starred:e.label_map[i].starred};return e.tsp.QuickNoteFirebase.save_quick_note(o,"content").then((n=>(e.label_map[i]=n,e.tsp.DetailsPanel.launch_quick_file_details_data(i),t.resolve(n)))),t.promise()},switch_class_for_video_notes_filename:()=>{$("#file-name").addClass("file-name-for-video-notes")},switch_class_for_quick_notes_filename:()=>{$("#file-name").removeClass("file-name-for-video-notes")}}}_create_new_file_factory_form(){let e=this;$("#create-new-file").on("click",(function(){e.action_function_map.create_new_file()}))}_create_event_listeners_for_file_factory_dragbar(){const e=$(".file-factory-split-bar"),t=$("#left-and-middle-section"),i=$("#right-side-components");let n=this;n.file_factory_mouse_is_down=!1,e.on("mousedown",(function(e){20!=parseInt($(this).css("left"))&&(n.file_factory_mouse_is_down=!0,$("#quick-notes-backdrop").show())})),e.on("mouseup",(function(e){$("#quick-notes-backdrop").hide()})),$(document).on("mousemove",(a=>{if(!n.file_factory_mouse_is_down)return;let o=screen.width;$("#right-side-components").removeClass("right-side-components-split-screen");let s=parseInt($("#pane").css("width")),l=parseInt($("#pane").css("left")),r=(parseInt($("#pane").css("right")),s-parseInt(`${a.clientX}px`)+l),c=parseInt(`${a.clientX}px`);!n.file_factory_mouse_is_down||c>=o/2||c<l||c>l+s||(t.css("width",c-l),console.log("left part width : ",c-l),i.css("width",r+40),i.css("left",c-l+3),e.css("left",c-l-8),console.log("bar left : ",c-l-8))})),document.addEventListener("mouseup",(()=>{n.file_factory_mouse_is_down=!1}))}__display_youtube_streaming_dialog(){$("#pane").show()}_initialize_youtube_stream(){let e=this;$("#stream-youtube-video").on("click",(function(){let t=$("#youtube-video-link").val();e.__display_youtube_streaming_dialog(),e.tsp.DomActions._create_component_open_close("youtube",t)})),$("#open-youtube-frame").on("click",(function(){e.__display_youtube_streaming_dialog()}))}__internal_rename(e,t,i){let n=$(t).val();e.label_map[i].name=n;let a={file_key:i,name:n,content:e.label_map[i].content,date_created:e.label_map[i].date_created,starred:e.label_map[i].starred};e.tsp.QuickNoteFirebase.save_quick_note(a,"name").then((function(a){e.label_map[i]=a;let o=e.build_individual_searchresult(i,a.content),s=$(t).parent();s.attr("id",i).empty(),$(s).append($(o).children().get(0)),$(s).append($(o).children().get(1)),$("#file-name").text(n),e.tsp.NotificationBar.launch_notification("File Renamed")}))}_onfocusout_rename_field(e){let t=this;$("#quick-file-rename-field").on("blur",(function(){t.__internal_rename(t,this,e)}))}_build_rename_field_and_call_backend(){let e=this;e.click_side_nav_button();let t=$("#file-name").attr("file-key"),i=e.label_map[t].name,n=$(`<input type='text'\n                    id='quick-file-rename-field'\n                    value='${i}' />`),a=$("#"+t);a.empty(),a.append(n);let o=n.val();n.val(""),n.val(o).focus(),$("#quick-file-rename-field").keypress((function(e){13==e.which&&$(this).blur()})),e._onfocusout_rename_field(t)}_delete_file_in_the_backend(){let e=this,t=$("#file-name").attr("file-key");1==confirm("Are you sure you want to delete \n "+e.label_map[t].name+" ? ")&&e.tsp.QuickNoteFirebase._delete_file(t).then((function(){let i=$("#"+t);$(i).remove(),delete e.label_map[t];let n=Object.keys(e.label_map)[0];e.curr_file_uuid=n,e.fillRightSideComponents(n),$(".individual-search").removeClass("individual-search-background"),$(`.individual-search[id=${n}]`).addClass("individual-search-background"),e.tsp.NotificationBar.launch_notification("File Deleted")})).fail((function(){alert("cant delete the file")}))}update_file_content_while_typing(e,t){$(`.individual-search[id='${e}']`).find(".individual-search-file-content").html(t)}update_starred_files_with_icon(e,t){let i,n=this,a=function(e,t){n.curr_file_uuid==e?t.addClass("individual-search-background"):t.removeClass("individual-search-background")},o=$(`.individual-search[id='${e}']`);if(0===o.length){let i=n.build_individual_searchresult(e,t);"flase"==n.label_map[e].starred?$("#file-middle-section").prepend($(i)):$("#file-middle-section").append($(i)),a(e,$(i))}else{if("false"==n.label_map[e].starred)$(o).find(".icon.star").remove(),i=$(o).clone(),$(o).remove(),$("#file-middle-section").append($(i));else{let e=$(o).find(".individual-search-level-1");0===$(e).find(".star.icon").length&&$(e).append($(" < i class = 'icon star common-icon' > < /i>")),i=$(o).clone(),$(o).remove(),$("#file-middle-section").prepend($(i))}a(e,$(i))}}starr_in_UI(e){let t=this;"true"==t.label_map[e].starred?t.tsp.NotificationBar.launch_notification(t.tsp.GlobalConstants.quick_file_starred):t.tsp.NotificationBar.launch_notification(t.tsp.GlobalConstants.quick_file_unstarred)}_mark_favourite_in_the_backend(){let e=this,t=e.curr_file_uuid,i={file_key:t,name:e.label_map[t].name,content:e.label_map[t].content,date_created:e.label_map[t].date_created,starred:e.label_map[t].starred};e.tsp.QuickNoteFirebase.save_quick_note(i,"starred").then((function(i){e.label_map[t]=i,e.starr_in_UI(t),e.sort_files_by_name_and_update_UI()}))}_build_file_factory_options(){let e=this;$(".quick-file-rename").off("click"),$(".quick-file-rename").on("click",(function(){e._build_rename_field_and_call_backend()})),e.events_map.save_file_if_blured(),$("#video-notes-help").off("click"),$("#video-notes-help").on("click",(function(){e.tsp.Dialog.launch_dialog("video-notes-help-dialog","Shortcuts")})),$(".quick-file-delete").off("click"),$(".quick-file-delete").on("click",(function(){e._delete_file_in_the_backend()})),$(".quick-file-fav").on("click",(function(){e._mark_favourite_in_the_backend()})),$(".quick-file-detail").off("click"),$(".quick-file-detail").on("click",(function(){e.tsp.DetailsPanel.launch_quick_file_details_data(e.curr_file_uuid),e.tsp.DetailsPanel.open_details()}))}_make_resize(){this.tsp.GlobalConstants.window_width<450&&$(".modal-content").css("width","calc( 80% ) !important")}open_file_list_context_menu(){let e=this;$.contextMenu({selector:".individual-search",callback:function(t,i){switch(t){case"rename":e._build_rename_field_and_call_backend();break;case"delete":e._delete_file_in_the_backend();break;case"star":e._mark_favourite_in_the_backend();break;case"info":e.tsp.DetailsPanel.launch_quick_file_details_data(e.curr_file_uuid),e.tsp.DetailsPanel.open_details()}},items:{rename:{name:"Rename"},star:{name:"Star"},delete:{name:"Delete"},info:{name:"Info"}}})}init(e,t){e.loadComponentsContainer=this,this.tsp=e;let i=this;i.label_map={},i.open_setting_flag=0,this.curr_file_uuid="",this.active_switch="video-stream-switch",this.action_function_map={},this.events_map={},this.cache_elements(),this.action_functions(),this.open_file_list_context_menu(),this._create_new_file_factory_form(),this._initialize_file_chat_switches_events(),this._create_event_listeners_for_file_factory_dragbar(),this._initialize_youtube_stream(),this._make_resize(),this.events(),this._build_file_factory_options(),parseInt(screen.width),parseInt(screen.height);let n=$.Deferred(),a=$.Deferred();return i._get_file_factory_list().then((function(t){if(0===Object.keys(t).length){let t={folder_id:"",folder_path:"../frontend_files/web-app/all_general_files/file_factory",file_name:"Welcome File",file_type:"file_factory",create_type:"File"};i.tsp.QuickNoteFirebase._create_file_in_backend_duplicate(t,!0).then((function(t){i.label_map[t.file_key]={name:t.name,content:t.content,date_created:t.date_created,last_updated:t.last_updated,starred:t.starred},i.searchResults(i,i.label_map).then((function(t){return i.sort_files_by_name_and_update_UI(),a.resolve(),n.resolve(e,i.label_map)}))}))}else i.label_map=t,i.searchResults(i,i.label_map).then((function(t){return i.sort_files_by_name_and_update_UI(),a.resolve(),n.resolve(e,i.label_map)}))})),n.promise()}}class n{components_list=[];active_component_dialog_elements=[];_triggerClick(e){$(e).click()}_button_clicks(){let e=this;setTimeout((function(){$($(".ui.tabular.menu").children().get(0)).click(),$($(".folder-section")[0]).hide().click(),$($(".individual-search")[0]).click(),e.tsp.DetailsPanel.close_details(),$("#sidenav-button-id1").click(),e.tsp.loadComponentsContainer.split_and_full_screen_UI(),e.tsp.GlobalConstants.current_window=1,$("#close-editor-button").addClass("top-header-highlighter").click(),setTimeout((function(){$("#close-editor-button").click()}),200),$("#stream-youtube-video").click(),e._triggerClick("#main-section-button")}),1500),e.online_checker()}online_checker(){let e=!1;setInterval((()=>{let t=$.Deferred();$.get({url:self.tsp.GlobalConstants.online_status_check_url,cache:!1}).done((i=>{e&&(self.tsp.NotificationBar.launch_notification(self.tsp.GlobalConstants.online_status,"","",5e3),e=!1),t.resolve()})).fail((i=>{self.tsp.NotificationBar.launch_notification(self.tsp.GlobalConstants.offline_status,"","",2e4),e=!0,t.reject()})),t.promise()}),1e4)}static _get_action_object(){return new t}static _get_components_container_object(){return new i}_initialize_tool_tips(){$('[data-toggle="tooltip"]').tooltip()}search_box_clear_util(){switch(self.tsp.GlobalConstants.current_window){case 1:case 3:$(".search-container  .prompt").val("").focus(),self.tsp.loadComponentsContainer.callSearchResults("");break;case 2:$("#searchInput  .prompt").val("").focus()}}search_box_clear(){$(".ui.close.icon").on("click",(function(){self.search_box_clear_util()}))}_download_video_click_event(){self=this,$("#download-video-button").on("click",(function(){self.action_obj.download_video_click_action()}))}_create_event_listeners_for_dragbar(){const e=$(".split__bar"),t=$(".split__left"),i=$("#parent-source-code-main-div");let n=this;n.mouse_is_down=!1,e.on("mousedown",(function(e){$("#display-tab-setting-backdrop").show(),$(this).css({width:3}),n.mouse_is_down=!0})),$(document).on("mousemove",(a=>{let o=$("#top-header").width(),s=screen.width,l=s-parseInt(`${a.clientX}px`),r=parseInt(`${a.clientX}px`);!n.mouse_is_down||r>=s/2||(t.css("width",r-53),i.css("width",l-o+50),i.css("left",r-o),e.css("left",r-o-3))})),document.addEventListener("mouseup",(()=>{n.mouse_is_down=!1,$("#display-tab-setting-backdrop").hide()}))}_initialize_local_video_Stream(){var e;e=window.URL||window.webkitURL,document.getElementById("local-stream").addEventListener("change",(function(t){var i=this.files[0],n=i.type,a=document.getElementById("local-stream-video-node"),o=a.canPlayType(n);""===o&&(o="no");var s="no"===o;if(function(e,t){var i=document.querySelector("#message");i.innerHTML=e,i.className=t?"error":"info"}('Can play type "'+n+'": '+o,s),!s){var l=e.createObjectURL(i);a.src=l,a.style.width="400px",a.style.height="300px"}}),!1)}keyboard_events(){let e=this;$(document).on("keypress keydown",(function(t){switch(void 0===e.tsp.current_window&&(e.tsp.current_window=1),e.tsp.current_window){case 1:case 3:if((9===t.which||9===t.eyCode)&&$("#quick-file-editor").is(":focus")){t.preventDefault();var i=t.target.selectionStart,n=t.target.selectionEnd;t.target.value=t.target.value.substring(0,i)+"\t"+t.target.value.substring(n),t.target.selectionStart=t.target.selectionEnd=i+1}if(27===t.keyCode)$("#modal-id").hide(),e.search_box_clear_util();else if(!t.ctrlKey||!t.shiftKey)return;78===t.keyCode||187===t.keyCode?(t.preventDefault(),e.tsp.loadComponentsContainer.action_function_map.create_new_file()):46===t.keyCode?(t.preventDefault(),e.tsp.loadComponentsContainer._delete_file_in_the_backend()):82===t.keyCode?(t.preventDefault(),e.tsp.loadComponentsContainer._build_rename_field_and_call_backend()):70===t.keyCode?(t.preventDefault(),e.tsp.loadComponentsContainer._mark_favourite_in_the_backend()):72===t.keyCode?(t.preventDefault(),e.tsp.Dialog.launch_dialog("video-notes-help-dialog")):73===t.keyCode&&(t.preventDefault(),$("#right-side-panel").is(":visible")?e.tsp.DetailsPanel.close_details():(e.tsp.DetailsPanel.launch_quick_file_details_data(e.tsp.loadComponentsContainer.curr_file_uuid),e.tsp.DetailsPanel.open_details()));break;case 2:27===t.keyCode&&$("#modal-id").hide()}})),$("input").keypress((function(t){let i=t.target.id;13===t.keyCode&&"create-file-text-box"===i&&e.tsp.loadComponentsContainer.action_function_map.create_new_file_submit_btn()}))}global_logout_event(){$("#user-name-section").on("click",(function(){$(this).contextmenu()}))}prompt_before_refresh(){window.addEventListener("beforeunload",(function(e){return(e||window.event).returnValue="o/","o/"}))}load_common_settings_in_DOM(e){$("#youtube-video-link").val(e.youtube_url)}load_common_setting_from_firebase(){let e=this,t=$.Deferred();return e.tsp.QuickNoteFirebase.read_common_setting_file().then((i=>(e.tsp.GlobalConstants.common_setting_data=i,e.load_common_settings_in_DOM(i),t.resolve()))),t.promise()}init(e,i){this.tsp=e,this.label_map=i;let n=$.Deferred();return e.DomEvents=this,this.action_obj=new t,this.load_common_setting_from_firebase().then((()=>{this._download_video_click_event(),this._initialize_tool_tips(),this._create_event_listeners_for_dragbar(),this._button_clicks(),this.keyboard_events(),this.global_logout_event(),n.resolve(e,i)})),n.promise()}}class a{_header_left_orientation(){$("#top-header").removeClass("top-header-right-margin").removeClass("top-header-top-margin").removeClass("top-header-bottom-margin").addClass("top-header-left-margin"),$("#logo-section").removeClass("logo-section-top-margin").addClass("logo-section-right-margin"),$(".open-close").addClass("tab-option-buttons-right-in-margin"),$("#top-header-tab-options").addClass("top-header-right-margin-tab-options"),$("#destination-container").css({top:"0",width:"calc(100% - 125px)",left:"125px"})}_header_orientation_events(){let e=this;$("#right-header-id").on("click",(function(){$("#top-header").removeClass("top-header-top-margin"),$("#top-header").removeClass("top-header-left-margin"),$("#top-header").removeClass("top-header-bottom-margin"),$("#top-header").addClass("top-header-right-margin"),$("#logo-section").removeClass("logo-section-top-margin"),$("#logo-section").addClass("logo-section-right-margin"),$(".open-close").addClass("tab-option-buttons-right-in-margin"),$("#top-header-tab-options").addClass("top-header-right-margin-tab-options"),$("#destination-container").css("top",0),$("#destination-container").css("left",0),$("#destination-container").css("width","100%")})),$("#top-header-id").on("click",(function(){$("#top-header").removeClass("top-header-right-margin"),$("#top-header").removeClass("top-header-left-margin"),$("#top-header").removeClass("top-header-bottom-margin"),$("#top-header").addClass("top-header-top-margin"),$("#logo-section").removeClass("logo-section-right-margin"),$("#logo-section").addClass("logo-section-top-margin"),$(".open-close").removeClass("tab-option-buttons-right-in-margin"),$("#top-header-tab-options").removeClass("top-header-right-margin-tab-options"),$("#destination-container").css("top",50),$("#destination-container").css("left",0),$("#destination-container").css("width","100%")})),$("#left-header-id").on("click",(function(){e._header_left_orientation()})),$("#bottom-header-id").on("click",(function(){$("#top-header").removeClass("top-header-right-margin"),$("#top-header").removeClass("top-header-left-margin"),$("#top-header").removeClass("top-header-top-margin"),$("#top-header").addClass("top-header-bottom-margin"),$("#logo-section").removeClass("logo-section-right-margin"),$("#logo-section").addClass("logo-section-top-margin"),$(".open-close").removeClass("tab-option-buttons-right-in-margin"),$("#top-header-tab-options").removeClass("top-header-right-margin-tab-options"),$("#destination-container").css("top",0),$("#destination-container").css("left",0),$("#destination-container").css("width","100%")}))}menu(){let e=this;$.contextMenu({selector:"#user-name-section",callback:function(t,i){switch(t){case"Logout":e.tsp.FireBase.logout()}},items:{Logout:{name:"Logout"}}})}_open_close_main_section_wrapper(){let e=this;function t(){$(".top-header-highlighter").removeClass("top-header-highlighter"),$(".main-section-wrapper-class").css("display","none")}$("#close-editor-button").on("click",(function(){t(),$("#pane").css({display:"block"}),$(this).addClass("top-header-highlighter"),1!=e.tsp.GlobalConstants.previous_window&&(e.tsp.GlobalConstants.previous_window=2),e.tsp.GlobalConstants.current_window=1})),$("#main-section-button").on("click",(function(){t(),$("#main-sections").css("display","block"),$(this).addClass("top-header-highlighter"),e.tsp.GlobalConstants.previous_window=1,e.tsp.GlobalConstants.current_window=2})),$("#open-close-overlay").on("click",(function(){t(),$("#pane").css({display:"block"}),$("#overlay").css("display","block"),$(this).addClass("top-header-highlighter"),e.tsp.GlobalConstants.previous_window=2,e.tsp.GlobalConstants.current_window=3})),$("#html-renderer").on("click",(function(){t(),$("#html-renderer-section").css("display","block"),$(this).addClass("top-header-highlighter"),e.tsp.GlobalConstants.current_window=4}))}_header_drag_bar_events(){}init(e,t){return e.Header=this,this.tsp=e,this._header_orientation_events(),this._open_close_main_section_wrapper(),this.menu(),this._header_drag_bar_events(),$.Deferred().resolve(e,t)}}class o{_build_searchbox(){this.searchItems=[{name:"Category 1",results:[{title:"result Title",description:"Optional Description"},{title:"result Title",description:"Optional Description"}]}]}_events(){let e=this;$("#searchInput").search({apiSettings:{response:function(t){var i=t.urlData.query;return{results:e.tsp.TreeClass.file_folder_list.map((function(e){var t=e.results.filter((function(e){return console.log(e),e.title.toLowerCase().includes(i.toLowerCase())}));if(null!==t){var n={name:e.name};return n.results=t,n}}))}}},type:"category",duration:100,maxResults:50,showNoResults:!0,fullTextSearch:"exact",searchFields:["title"],onSelect:function(t,i){"folder"===e.tsp.TreeClass.metadata_map[t.description].folder_type?(e.tsp.TreeClass.clone_folder_into_dialog(t.description),e.tsp.Dialog.launch_dialog("folder-clone-section"),e.tsp.TreeClass._events(),e.tsp.SourceCodeSection.events()):(e.tsp.SourceCodeSection._highlight_in_tree(t.description),e.tsp.SourceCodeSection.buildTab(t.title,"document",t.description),e.tsp.TreeClass._build_breadcrumb(t.description))}}),$(".tab-container-setting").dropdown(),$(".tab-container-setting").on("click",(function(){let t=e.tsp.TreeClass;e.tsp.DomActions._tabs_drop_down_click(),t.curr_active_file=$("#tab-container .tab-active .file-get-section").attr("file-path"),t.set_active_folder_and_file(void 0,t.curr_active_file),$(".tree-note-star-input").prop("checked","true"==t.metadata_map[t.curr_active_file].starred)}))}init(e,t){let i=$.Deferred();return e.SearchBox=this,this.tsp=e,this._build_searchbox(),this._events(),i.resolve(e,t)}}class s{build_details_header_html(e){let t='<div class="row11">';return t+=`<span class="details-name">${e.data}</span>`,t+='<span class="details-close" style="padding:  10px;"><i class="ui icon close"></i></span>',t+="</div>",t}build_label_data_html(e){let t='<div class="row1">';return t+=`<span class="details-label">${e.label}</span>`,t+=`<span class="details-value">${e.data}</span>`,t+="</div>",t}close_details(){$("#right-side-panel").css({"z-index":"0",display:"none"})}open_details(){$("#right-side-panel").css({"z-index":"100",display:"block"})}get_local_date_time(e){let t=new Date(e);return t.toDateString()+", "+t.toLocaleTimeString()}launch_details_data(e){let t=this,i=t.tsp.TreeClass.metadata_map[e],n=t.build_details_header_html({data:i.name});n+=t.build_label_data_html({label:"Date Created",data:t.get_local_date_time(i.date_created)}),n+=t.build_label_data_html({label:"Last Updated",data:t.get_local_date_time(i.last_updated)}),n+=t.build_label_data_html({label:`${i.folder_type.charAt(0).toUpperCase()+i.folder_type.slice(1)} Path`,data:i.path}),n+=t.build_label_data_html({label:"Link",data:`<a href="#"> app.preimenotes.app/sakthi25/${i.uuid}</a>`}),n+=t.build_label_data_html({label:"Starred",data:'<label class="switch"><input type="checkbox" checked="true"></label>'}),$(".details-section").empty().html(n),t.events()}launch_quick_file_details_data(e){let t=this,i=t.tsp.loadComponentsContainer.label_map[e],n=t.build_details_header_html({data:i.name});n+=t.build_label_data_html({label:"Date Created",data:t.tsp.Utils.get_formatted_date(i.date_created)}),n+=t.build_label_data_html({label:"Last Updated",data:t.tsp.Utils.get_formatted_date(i.last_updated)});let a=i.content.split("\n").length;n+=t.build_label_data_html({label:"Total No of lines : ",data:`${a}`});let o=i.content.split(" ").length;n+=t.build_label_data_html({label:"Word Count",data:`${o}`}),$(".details-section").empty().html(n),t.events()}events(){let e=this;$(".details-close").off("click"),$(".details-close ").on("click",(function(){e.close_details()}))}init(e,t){return e.DetailsPanel=this,this.tsp=e,this.events(),$.Deferred().resolve(this.tsp,t)}}class l{cache_data(){this.data={url_prefix:"http://localhost:5000"}}init(e,t){return e.PrimenotesCache=this,this.tsp=e,this.cache_data(),$.Deferred().resolve(this.tsp,t)}}class r{cache_elems(){let e=this;e.modal=$("#notification"),e.close=$(".content > .close"),e.header=$("#notification .header"),e.meta=$("#notification .meta"),e.description=$("#notification .description")}build_outer_part(){$("#notification").html('<div class="card">\n                        <div class="content">\n                            <i class="right floated close icon"></i>\n                            <div class="header"></div>\n                            <div class="meta"></div>\n                            <div class="description"></div>\n                        </div>\n                    </div>')}launch_notification(e="",t="",i="",n=2500){let a=this;""!=t&&a.header.text(t),""!=e&&a.meta.text(e),""!=i&&a.description.html(i),$("#notification").show(),"INFINITY"!=n&&setTimeout((function(){$("#notification").hide()}),n)}events(){let e=this,t={close_notification_dialog:function(){e.close.on("click",(function(){e.modal.hide()}))}};for(let e in t)t[e]()}init(e,t){return e.NotificationBar=this,this.tsp=e,this.event_map={},this.build_outer_part(),this.cache_elems(),this.events(),$.Deferred().resolve(e,t)}}class c{set_constants(){let e=this;e.video_notes_help_dialog_content='<div class="video-notes-help-dialog" style="font-size: 14px;">\n   <h3 style="font-family: Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; line-height: 1.4285em; color: inherit; padding: 0px; text-align: center;"><font color="#311873">File Shortcuts</font></h3><h3 style="font-family: Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; line-height: 1.4285em; color: inherit; padding: 0px; text-align: center;"><font color="#311873"><br></font></h3><h3 style="font-family: Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; line-height: 1.4285em; color: inherit; padding: 0px; text-align: center;"><div class="video-notes-help-dialog" style="font-size: 14px;"></div><table class="table table-bordered" style="border-spacing: 0px; background-color: transparent;"><tbody><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; font-size: 14px; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + SHIFT + H</kbd></label></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><span style="font-size: 14px;">Help</span><br></td></tr><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; font-size: 14px; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + SHIFT + [+]</kbd></label></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><span style="font-size: 14px;">Create File</span><br></td></tr><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; font-size: 14px; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + SHIFT + R</kbd></label></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><span style="font-size: 14px;">Rename File</span><br></td></tr><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; font-size: 14px; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + SHIFT + DELETE</kbd></label><br></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><span style="font-size: 14px;">Delete File</span><br></td></tr><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; font-size: 14px; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + SHIFT + F</kbd></label><br></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><span style="font-size: 14px;">Mark Favourite</span><br></td></tr><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; font-size: 14px; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + SHIFT + I</kbd></label><br></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><span style="font-size: 14px;">Info&nbsp;</span></td></tr></tbody></table></h3><h3 style="font-family: Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; line-height: 1.4285em; color: inherit; padding: 0px; text-align: center;"></h3><h3 style="font-family: Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; line-height: 1.4285em; color: inherit; padding: 0px; text-align: center;"><font color="#311873">Editor Shortcuts</font></h3><h3 style="font-family: Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; line-height: 1.4285em; color: inherit; padding: 0px; text-align: center;"><font color="#311873"><br></font></h3><h3 style="font-family: Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; line-height: 1.4285em; color: inherit; padding: 0px; text-align: center;"><div class="video-notes-help-dialog" style="font-size: 14px;"><div class="video-notes-help-dialog"></div><table class="table table-bordered" style="border-spacing: 0px; background-color: transparent; width: 1108.44px; max-width: 100%;"><tbody><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + X</kbd></label><br></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;">Cut<br></td></tr><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + C</kbd></label><br></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;">Copy<br></td></tr><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + V</kbd></label><br></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;">Paste<br></td></tr><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + A</kbd></label><br></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;">Select All<br></td></tr><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + Z</kbd></label><br></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;">Undo<br></td></tr><tr><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;"><label style="max-width: 100%; font-weight: 700; width: 180px; margin-right: 10px;"><kbd style="font-size: 14px; box-shadow: rgba(0, 0, 0, 0.25) 0px -1px 0px inset;">CTRL + Shift + Z</kbd></label><br></td><td style="padding: 8px; border-color: rgb(221, 221, 221); line-height: 1.42857;">Redo<br></td></tr></tbody></table></div></h3><h3 style="font-family: Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; line-height: 1.4285em; color: inherit; padding: 0px; text-align: center;">\n   </h3>\n   <h3 style="font-family: Lato, &quot;Helvetica Neue&quot;, Arial, Helvetica, sans-serif; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; line-height: 1.4285em; color: inherit; padding: 0px; text-align: center;"></h3>\n</div>',e.current_window=2,e.previous_window=1,e.top_header_highlighter="",e.file_saved="File Saved",e.duplicate_quick_file="File Eeists with the same name",e.new_quick_file="File Creation Success",e.quick_file_starred="File Starred",e.quick_file_unstarred="File UnStarred",e.quick_note_const="QuickNote",e.window_width=window.innerWidth,e.window_height=window.innerHeight,e.offline_status="You are currently offline",e.online_status="You are back online",e.online_status_check_url="https://upload.wikimedia.org/wikipedia/commons/2/28/Vijay_1996.jpg",e.quick_file_welcome_content="\n        File Shortcuts\n\n        CTRL + SHIFT + H            Help\n        CTRL + SHIFT + [+]          Create File\n        CTRL + SHIFT + R            Rename File\n        CTRL + SHIFT + DELETE       Delete File\n        CTRL + SHIFT + F            Mark Favourite\n        CTRL + SHIFT + I            Info\n\n        Editor Shortcuts\n        CTRL + X                    Cut \n        CTRL + C                    Copy\n        CTRL + V                    Paste\n        CTRL + A                    Select All\n        CTRL + Z                    Undo\n        CTRL + Shift + Z            Redo\n            ",e.themes={greenish:"greenish"},e.firebase_config=e.tsp.FcBarcelona.toDecMap()}init(e,t){e.GlobalConstants=this,this.tsp=e;let i=$.Deferred();return this.set_constants(),i.resolve(e,t)}}class d{cache_elems(){}change_theme(){self.tsp.GlobalConstants.themes.greenish,$(".individual-search-background").attr}init(e,t){return e.Theme=this,this.tsp=e,this.event_map={},this.cache_elems(),$.Deferred().resolve(e,t)}}class _{formatAMPM(e){var t=e.getHours(),i=e.getMinutes(),n=t>=12?"PM":"AM";return(t=(t%=12)||12)+":"+(i=i<10?"0"+i:i)+" "+n}get_formatted_date(e){let t=new Date(e),i=t.toDateString();return i.substr(0,i.length-5)+", "+this.formatAMPM(t)}init(e,t){return e.Utils=this,this.tsp=e,$.Deferred().resolve(e,t)}}class p{constructor(){this.fcBarcelonaData={1:[[97,112,105,75,101,121],[65,73,122,97,83,121,65,112,74,82,103,86,80,66,118,121,120,55,86,81,79,99,71,100,80,80,109,95,53,78,108,103,75,86,74,69,116,88,48]],2:[[97,117,116,104,68,111,109,97,105,110],[112,114,105,109,101,110,111,116,101,115,45,49,55,97,97,50,46,102,105,114,101,98,97,115,101,97,112,112,46,99,111,109]],3:[[100,97,116,97,98,97,115,101,85,82,76],[104,116,116,112,115,58,47,47,112,114,105,109,101,110,111,116,101,115,45,49,55,97,97,50,45,100,101,102,97,117,108,116,45,114,116,100,98,46,101,117,114,111,112,101,45,119,101,115,116,49,46,102,105,114,101,98,97,115,101,100,97,116,97,98,97,115,101,46,97,112,112]],4:[[112,114,111,106,101,99,116,73,100],[112,114,105,109,101,110,111,116,101,115,45,49,55,97,97,50]],5:[[115,116,111,114,97,103,101,66,117,99,107,101,116],[112,114,105,109,101,110,111,116,101,115,45,49,55,97,97,50,46,97,112,112,115,112,111,116,46,99,111,109]],6:[[109,101,115,115,97,103,105,110,103,83,101,110,100,101,114,73,100],[55,54,57,48,48,54,48,56,57,53,56,55]],7:[[97,112,112,73,100],[49,58,55,54,57,48,48,54,48,56,57,53,56,55,58,119,101,98,58,57,48,99,52,98,48,53,57,53,101,56,57,100,100,49,57,53,102,56,49,48,54]],8:[[109,101,97,115,117,114,101,109,101,110,116,73,100],[71,45,87,68,67,50,82,57,84,70,80,88]]}}toStr(e){var t="";return e.forEach((function(e){var i=String.fromCharCode(e);t+=i})),t}toDecMap(){let e=this,t=e.fcBarcelonaData,i={};for(var n in t){let a=e.toStr(t[n][0]),o=e.toStr(t[n][1]);i[a]=o}return i}init(e,t){return e.FcBarcelona=this,this.tsp=e,$.Deferred().resolve(e,t)}}class u{login(){var e={signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID,firebase.auth.FacebookAuthProvider.PROVIDER_ID,firebase.auth.EmailAuthProvider.PROVIDER_ID],callBack:()=>!1};return new firebaseui.auth.AuthUI(firebase.auth()).start("#firebaseui-auth-container",e)}get_send_verification_html(){let e=this;setTimeout((function(){e.tsp.NotificationBar.launch_notification(null,null,'<div id="send-verification-html" class="send-verification-html"> \n                                        <div> \n                                            Your email is not verified yet. \n                                            please verify to confirm that this email is yours \n                                        </div> \n                                        <div> \n                                            <button id="send-verification-email-after-login" class="ui button primary dialog-button" data-value="create" style="">send verification mail</button> \n                                        </div> \n                                    </div>\n                                    <style>\n                                        .send-verification-html{\n                                            display: flex;\n                                            flex-direction: column;\n                                            row-gap: 11px;\n                                            font-weight: 700;\n                                            padding: 10px;\n                                        }\n                                        .verification-email-sent{\n                                            display: flex;\n                                            flex-direction: row;\n                                            column-gap: 15px;\n                                        }\n                                    </style>',"INFINITY"),$("#send-verification-email-after-login").click((()=>{e.send_verfication()}))}),3e3)}show_verification_email_sent(){$("#send-verification-html").empty().attr("class","verification-email-sent").html('<i class="check icon"></i>\n                    <span>Verification Email sent. Please visit your mail inbox</span>')}send_verfication(){let e=this;this.firebase.auth().currentUser.sendEmailVerification({url:"https://primenotes-17aa2.firebaseapp.com/templates/login.html",handleCodeInApp:!1}).then((()=>{console.log("verification email sent"),e.show_verification_email_sent()})).catch((e=>{e.code,e.message}))}on_auth_state_change(){let e=this,t=$.Deferred(),i=sessionStorage.getItem("primenotes-user-data");return e.user_data=JSON.parse(i),null!=e.user_data&&"null"!=e.user_data?($("#user-name-section").attr("data-tooltip","Hey "+e.user_data.displayName+" click to Logout"),$($("#user-name-section").children().get(0)).attr("src",e.user_data.photoURL),t.resolve()):(window.location.href="templates/login.html",t.promise())}logout(){firebase.auth().signOut().then((function(){sessionStorage.clear(),window.location.replace("templates/login.html")}),(function(){}))}init(e,t){e.FireBase=this,this.tsp=e;let i=$.Deferred();return this.user_data={},this.firebase_config=this.tsp.GlobalConstants.firebase_config,firebase.initializeApp(e.GlobalConstants.firebase_config),this.firebase=firebase,this.on_auth_state_change().then((()=>i.resolve(e,t))),i.promise()}}class h{get_inversed_bool_value(e){return(!("true"==e.toLowerCase())).toString()}generate_UUID(){return"xxxxxxxx-xxxx-4xxx-yxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}messageHandler(e){e?console.log(e):console.log("success")}get_common_settings_data(){let e=this;var t=e.tsp.FireBase.firebase.firestore();e.admin_collection_name="admin",e.admin_document_uuid="admin-files",e.admin_collection_uuid="common-setting",e.admin_file_1="file-1",t.collection(e.admin_collection_name).doc(e.admin_document_uuid).collection(e.admin_collection_uuid).doc(e.admin_file_1).get().then((e=>{e.docs.forEach((e=>{console.log(e.id),console.log(e.data())}))}))}_create_file_in_backend_duplicate(e,t){let i=this,n=i.generate_UUID(),a=$.Deferred();var o=i.tsp.FireBase.firebase.firestore();let s="";return s=void 0!==t?i.tsp.GlobalConstants.quick_file_welcome_content:"sample content",e={name:e.file_name,content:s,date_created:(new Date).toGMTString(),last_updated:(new Date).toGMTString(),starred:"false"},o.collection(i.base_collection_name).doc(i.user_data.uid).collection(i.tsp.GlobalConstants.quick_note_const).doc(n).set(e).then((t=>(e.file_key=n,a.resolve(e))),i.messageHandler),a.promise()}save_quick_note(e,t){let i=this,n=$.Deferred();var a=i.tsp.FireBase.firebase.firestore();e[t];let o=e.starred,s=(new Date).toGMTString();"starred"==t&&(o=i.get_inversed_bool_value(o));let l={name:e.name,content:e.content,date_created:e.date_created,last_updated:s,starred:o};return a.collection(i.base_collection_name).doc(i.user_data.uid).collection(i.tsp.GlobalConstants.quick_note_const).doc(e.file_key).set(l).then((()=>n.resolve(l)),i.messageHandler),n.promise()}read_single_file(e){let t=$.Deferred(),i=this;return i.tsp.FireBase.firebase.firestore().collection(i.base_collection_name).doc(i.user_data.uid).collection(i.tsp.GlobalConstants.quick_note_const).doc(e).get().then((e=>t.resolve(e.data()))),t.promise()}_delete_file(e){let t=this;var i=t.tsp.FireBase.firebase.firestore();let n=$.Deferred();return i.collection(t.base_collection_name).doc(t.user_data.uid).collection(t.tsp.GlobalConstants.quick_note_const).doc(e).delete().then((()=>n.resolve()),t.messageHandler),n.promise()}fnGetAllusers(e){this.tsp.FireBase.firebase.firestore().collection(e).get().then((e=>{e.docs.forEach((e=>{}))}))}get_quick_note_list(){let e=this;var t=e.tsp.FireBase.firebase.firestore();let i={},n=$.Deferred();return t.collection(e.base_collection_name).doc(e.user_data.uid).collection(e.tsp.GlobalConstants.quick_note_const).get().then((e=>(e.docs.forEach((e=>{i[e.id]=e.data()})),n.resolve(i))),e.messageHandler),n.promise()}getUUID(){q1=firebase.auth(),q1.getUid()}read_common_setting_file(){let e=$.Deferred();return this.tsp.FireBase.firebase.firestore().collection(this.common_setting_collection_name).doc("cOCdOleagZX4DIDYs2EH").get().then((t=>(console.log(t.data()),e.resolve(t.data())))),e.promise()}init(e,t){return e.QuickNoteFirebase=this,this.tsp=e,this.user_data=this.tsp.FireBase.user_data,this.base_collection_name="users",this.common_setting_collection_name="CommonSettings",$.Deferred().resolve(this.tsp,t)}}class f{constructor(){}}$(document).ready((function(){var m=new f;let b=[p,c,l,u,_,h,e,t,a,i,o,s,r,d,n],g=b.length;$("#pre-loader-bar").progress("increment");let v=100/g;document.getElementById("loading-container").style.display="block",document.getElementById("destination-container").style.display="none",document.getElementById("top-header").style.display="none",document.getElementById("main-section-wrapper").style.display="none",document.getElementById("right-side-panel").style.display="none",document.getElementById("notification").style.display="none",document.getElementById("modal-id").style.display="none",document.getElementsByClassName("context")[0].style.display="none",document.getElementById("top-header").style.display="none",function e(t,i,n){if(t>=g)return null;(new b[t]).init(i,n).then((function(i,n){return function(e,t){$("#pre-loader-bar").progress({percent:Number(t*e)}),100===Math.floor(t*e)&&setTimeout((function(){document.getElementById("loading-container").style.display="none",document.getElementById("destination-container").style.display="block",document.getElementById("top-header").style.display="block",document.getElementById("main-section-wrapper").style.display="block"}),2e3)}(t+1,v),e(t+1,i,n)}))}(0,m,"")}))})();